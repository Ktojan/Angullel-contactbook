<header class="main-content__header">
    <!-- Open mobile menu button -->
    <button class="mobile-menu">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <!--<path fill="currentColor" d="M501"/>-->
        </svg>
    </button>
    <span class="main-content__header-text">All contacts of {{user}}</span>
    <span class="main-content__header-text"
          *ngIf="this.searchContactsService.filterForContacts"> which surname contains "{{this.searchContactsService.filterForContacts}}"</span>
    <!-- Dots menu -->
    <button class="main-content__header-menu"> <!--*todo constants -->
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612">
        </svg>  <!--d="M55"-->
    </button>
</header>


<section class="contacts">
    <div class="contact-card"
         *ngFor="let contact of filteredContacts">
        <!--    contacts | contactPipeFilter categoryContacts  filteredContacts  -->

        <div class="contact-card__avatar"
             [ngStyle]="{'background-image': 'url(' + contact.url + ')'}"></div>
        <div class="contact-card__info">
            <button class="contact-card__btn"
                    [routerLink]="['/contact', contact.surname]">
                <!--*todo вернуть назад баттон снаружи трех дивов контакт-кард-->
                <span class="contact-card__name">{{contact.surname}}</span>
            </button>
            <span class="contact-card__description">{{contact.desc}}</span>
        </div>


        <div class="contact-card__menu"
             *ngIf="contact.showContactEditMenu">
            <button class="contact-card__menu-item"
                    (click)="contact.showContactEditMenu = !contact.showContactEditMenu"
                    routerLink='/create'>Edit
            </button>
            <button class="contact-card__menu-item">Delete</button>
            <button class="contact-card__menu-item"
                    (click)="contact.showCategoriesList = !contact.showCategoriesList">Add to category
            </button>

            <div *ngIf="contact.showCategoriesList">
                <button class="contact-card__menu-item"
                        *ngFor="let category of categories"
                        [hidden]="contact.categories.includes(category)"
                        (click)="addToCategory(contact, category); contact.showContactEditMenu = !contact.showContactEditMenu">
                    {{category}}
                </button>
            </div>

            <button class="contact-card__menu-item"
                    (click)="contact.showContactEditMenu = !contact.showContactEditMenu">Cancel
            </button>

        </div>
        <button class="contact-card__menu-btn"
                (click)="contact.showContactEditMenu = !contact.showContactEditMenu">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612">
                <path fill="currentColor"
                      d="M55.636 250.364C24.907 250.364 0 275.27 0 306c0 30.73 24.907 55.636 55.636 55.636S111.273 336.73 111.273 306c0-30.73-24.907-55.636-55.637-55.636zm259.637 0c-30.73 0-55.636 24.907-55.636 55.636 0 30.729 24.907 55.636 55.636 55.636 30.729 0 55.636-24.905 55.636-55.636 0-30.73-24.906-55.636-55.636-55.636zm241.091 0c-30.73 0-55.636 24.907-55.636 55.636 0 30.729 24.906 55.636 55.636 55.636C587.093 361.636 612 336.73 612 306c0-30.73-24.907-55.636-55.636-55.636z"/>
            </svg>
        </button>
    </div>
</section>

